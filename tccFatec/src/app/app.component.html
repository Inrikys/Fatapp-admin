<ion-app>
    <ion-split-pane>
        <ion-menu type="overlay">
            <ion-header padding-top *ngIf="!user">
                <div class="container">
                    <div text-center>
                        <img class="logo" src="../assets/imgs/fatapp.png">
                    </div>
                    <div padding-bottom text-center>
                        <ion-button (click)="goToLogin()">Acessar</ion-button>
                    </div>
                </div>
            </ion-header>
            <div class="user-background">
                <ion-header *ngIf="user">
                    <ion-item class="user-background" lines="none">
                        <div *ngIf="!user.image || user.image == ''">
                            <img class="avatar" src="../assets/imgs/defaultAvatar.png">
                        </div>
                        <div *ngIf="user.image">
                            <img class="avatar" src="{{user.image}}">
                        </div>
                        <ion-label class="user-infos">
                            <div><span>Olá, </span><span>{{user.name}}</span></div>
                            <div>{{user.user_type}}</div>
                            <div class="user-edit" padding-top color="tertiary" (click)="goToAccount()">Editar</div>
                        </ion-label>

                    </ion-item>
                </ion-header>
            </div>


            <ion-content color="tertiary">
                <ion-card *ngIf="user">
                    <ion-card-header>
                        <ion-card-subtitle>Menu do usuário</ion-card-subtitle>
                    </ion-card-header>
                    <ion-card-content>

                        <ion-list lines="none">
                            <ion-menu-toggle auto-hide="false" *ngFor="let p of userMenu">
                                <ion-item class="menu-item" [routerLink]="[p.url]" detail="false">
                                    <ion-label>
                                        {{p.title}}
                                    </ion-label>
                                </ion-item>
                            </ion-menu-toggle>
                            <ion-menu-toggle>
                                <ion-item class="menu-item">
                                    <ion-label (click)="logout()">
                                        Logout
                                    </ion-label>
                                </ion-item>
                            </ion-menu-toggle>
                        </ion-list>


                    </ion-card-content>
                </ion-card>
                <ion-card>
                    <ion-card-header>
                        <ion-card-subtitle>Geral</ion-card-subtitle>
                    </ion-card-header>
                    <ion-card-content>

                        <ion-list lines="none">
                            <ion-menu-toggle auto-hide="false" *ngFor="let p of generalLinks">
                                <ion-item class="menu-item" [routerLink]="[p.url]" detail="false">
                                    <ion-label>
                                        {{p.title}}
                                    </ion-label>
                                </ion-item>
                            </ion-menu-toggle>
                        </ion-list>
                    </ion-card-content>
                </ion-card>
            </ion-content>
        </ion-menu>
        <ion-router-outlet main></ion-router-outlet>
    </ion-split-pane>
</ion-app>
